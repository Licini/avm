<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AVM</title>
    <link rel="stylesheet" href="avm.css">
    <style>

        body{

            overflow: hidden;

        }

    </style>
</head>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<div id="menu" class="white">

    <div class="menu" id="work">Work <div class="selectLine"></div></div>  /
    <div class="menu" id="about">About <div class="selectLine"></div></div>  /
    <div class="menu" id="contact">Contact <div class="selectLine"></div></div>  /


</div>


<div id="background"><div class="bg-overlay"></div></div>

<div id="verticalTitle"><img id="cube0" src="pics/Cube0.png">   Astrid von MÃ¼hlenbrock <div class="selectLine"></div></div>


<script>


    //vertical title

    $('#cube0').css({
        'transform' : 'rotate(-90deg)',
        'width':'65px'
    });

    $('#verticalTitle').css({
        'transform' : 'rotate(-90deg)',
        'left': '-10%',
        'top':'40%'
    });


    //append images
    var background =  $('#background');
    var imgs = [];
    var scales = [];

    function centerImage(img) {

        console.log(img)

    }



    for(var i=0; i<=7;i++){


        background.append('<div id="background_'+i+'" class="background"></div>');
        imgs.push($('#background_'+i));

        imgs[i].css({
            "background": "url('pics/"+i+".jpg') no-repeat",
            "background-size": "100%"
        });

        if(i ==4 || i==5)
            imgs[i].css({
                "height":"200%",
                "top":"-60%",
                "background": "url('pics/"+i+".gif') no-repeat center center",
                "background-size": "100%"
            });


        if(i==7){

            imgs[i].append('<video id="video0" width="100%" style="z-index: -100;"> <source src="pics/7.mp4" type="video/mp4"> </video>');

        }

        scales.push(1);

        if(i) imgs[i].hide();

    }





    var currentPic =0;
    var scaleSpeed = 0.0002;

    function scaleAndFade(el,time) {

        var opacity = 1;

        var SAF = setInterval(function () {

            opacity-=1/time;

            el.css({'opacity': opacity});


            if (opacity <=0) {

                el.hide();
                clearInterval(SAF);

            }

        },20)

    }



    setInterval(function () {

        scales.forEach(function (s,n) {

            scales[n] += scaleSpeed

        });

        imgs.forEach(function (img,n) {



            img.css({transform: "scale("+(scales[n])+")"});

        });



        if(scales[currentPic]>=1.05) {


            scaleAndFade(imgs[currentPic],100);

            imgs[currentPic].css({'z-index':-99});

            currentPic++;
            if(currentPic >= imgs.length) currentPic=0;
            scales[currentPic] = 1;
            imgs[currentPic].show();
            imgs[currentPic].css({'z-index':-100,'opacity':1});

            if(currentPic ==7) {

                $('#video0').get(0).play();
                scaleSpeed = 0.0001

            }else scaleSpeed = 0.0002



        }

    },20);



</script>
<script src="menu.js"></script>
</body>
</html>